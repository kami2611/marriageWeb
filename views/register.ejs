<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Register - DateIt</title>
    <link rel="stylesheet" href="/css/styles.css" />
    <link rel="stylesheet" href="/css/register.css" />
    <!-- Font Awesome for icons -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />
  </head>
  <body>
    <header class="header">
      <div class="container">
        <div class="logo">
          <a href="/">
            <img src="/imgs/LOGO.png?height=60&width=180" alt="Company Logo" />
          </a>
        </div>
        <div class="auth-buttons">
          <a href="/register" class="btn btn-signup">Register</a>
          <a href="/login" class="btn btn-login">Login</a>
        </div>
        <div class="mobile-menu-toggle">
          <i class="fas fa-bars"></i>
        </div>
      </div>
    </header>

    <main>
      <div class="container">
        <div class="register-container">
          <h1>Create an Account</h1>

          <div class="whatsapp-link">
            <i class="fab fa-whatsapp"></i>
            <a href="https://wa.me/923065896726" target="_blank">
              Chat with us on WhatsApp to get the pass code
            </a>
          </div>

          <!-- Error message display -->
          <% if (typeof error !== "undefined" && error) { %>
          <div class="register-error" id="register-error">
            <i class="fas fa-exclamation-circle"></i>
            <%= error %>
          </div>
          <% } %>

          <form action="/register" method="post" class="register-form">
            <div class="form-group">
              <label for="username">Username</label>
              <input
                type="text"
                id="username"
                name="username"
                placeholder="Enter your username"
                required
              />
            </div>

            <div class="form-group">
              <label for="password">Password</label>
              <input
                type="password"
                id="password"
                name="password"
                placeholder="Create a password"
                required
              />
            </div>

            <div class="form-group">
              <label for="passcode">Passcode</label>
              <input
                type="number"
                id="passcode"
                name="passcode"
                placeholder="Enter registration passcode"
                required
              />
              <div class="remember-me">
                <input type="checkbox" id="remember" name="remember" />
                <label for="remember">Remember me</label>
              </div>
            </div>

            <button type="submit" class="btn btn-signup btn-full">
              Register
            </button>
          </form>

          <div class="login-link">
            Already have an account? <a href="/login">Login here</a>
          </div>
        </div>
      </div>
    </main>

    <footer class="footer">
      <div class="container">
        <div class="footer-content">
          <div class="footer-section">
            <h3>About Us</h3>
            <p>
              We make knowing eachother secure that ever and find the perfect
              match for you
            </p>
          </div>
          <div class="footer-section">
            <h3>Contact</h3>
            <p>Email: info@example.com</p>
            <p>Phone: (123) 456-7890</p>
          </div>
          <div class="footer-section">
            <h3>Follow Us</h3>
            <div class="social-icons">
              <a href="#"><i class="fab fa-facebook"></i></a>
              <a href="#"><i class="fab fa-instagram"></i></a>
              <a href="#"><i class="fab fa-twitter"></i></a>
            </div>
          </div>
        </div>
        <div class="footer-bottom">
          <p>&copy; 2025 dateIt App. All rights reserved.</p>
        </div>
      </div>
    </footer>
    <script src="/js/main.js"></script>
    <script>
      document.addEventListener("DOMContentLoaded", function () {
        const errorBox = document.getElementById("register-error");
        if (!errorBox) return;

        // Hide error when user types in any input
        document.querySelectorAll(".register-form input").forEach((input) => {
          input.addEventListener("input", () => {
            errorBox.style.display = "none";
          });
        });

        // Hide error when clicking outside the error box or form
        document.addEventListener("mousedown", function (e) {
          const form = document.querySelector(".register-form");
          if (
            errorBox.style.display !== "none" &&
            !form.contains(e.target) &&
            !errorBox.contains(e.target)
          ) {
            errorBox.style.display = "none";
          }
        });
      });
    </script>
  </body>
</html>
