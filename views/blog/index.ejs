<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title><%= title %></title>

    <!-- SEO Meta Tags -->
    <meta
      name="description"
      content="Read expert advice on Muslim matchmaking, wedding planning, and relationship guidance from D'amour Muslim. Discover tips for finding your perfect match."
    />
    <meta
      name="keywords"
      content="Muslim wedding planning, Muslim matchmaking advice, Islamic marriage tips, Muslim wedding planner, halal wedding planning"
    />

    <link rel="stylesheet" href="/css/output.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Pacifico&family=Playfair+Display:wght@400;600;700&family=Roboto:wght@300;400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/remixicon/4.6.0/remixicon.min.css"
    />
  </head>

  <body class="bg-gray-50 font-['Roboto']">
    <%- include('../partials/header') %>

    <main class="pt-24 min-h-screen">
      <div class="max-w-6xl mx-auto px-6">
        <!-- Blog Header -->
        <div class="text-center mb-12">
          <h1
            class="text-4xl font-bold text-gray-800 mb-4 font-['Playfair_Display']"
          >
            D'amour Muslim Blog
          </h1>
          <p class="text-lg text-gray-600 max-w-2xl mx-auto">
            Expert advice on Muslim matchmaking, wedding planning, and building
            meaningful relationships rooted in Islamic values.
          </p>
        </div>

        <!-- Blog Posts Grid -->
        <div class="grid lg:grid-cols-3 md:grid-cols-2 gap-8">
          <% posts.forEach(post => { %>
          <article
            class="bg-white rounded-2xl material-shadow hover:material-shadow-hover transition-all duration-300 overflow-hidden group"
          >
            <div class="p-6">
              <!-- Featured Image -->
              <div
                class="aspect-video bg-gradient-to-br from-primary/10 to-secondary/10 relative overflow-hidden rounded-xl mb-4"
              >
                <% if (post.image) { %>
                <img
                  src="<%= post.image %>"
                  alt="<%= post.title %>"
                  class="w-full h-full object-cover transition-transform duration-300 group-hover:scale-105"
                  loading="lazy"
                />
                <% } else { %>
                <div class="absolute inset-0 flex items-center justify-center">
                  <i class="ri-article-line text-6xl text-primary/30"></i>
                </div>
                <% } %>

                <!-- Image overlay gradient for better text readability -->
                <div
                  class="absolute inset-0 bg-gradient-to-t from-black/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"
                ></div>
              </div>

              <!-- Category & Date -->
              <div
                class="flex items-center justify-between text-sm text-gray-500 mb-3"
              >
                <span
                  class="px-3 py-1 bg-primary/10 text-primary rounded-full text-xs font-medium"
                >
                  <%= post.category %>
                </span>
                <time datetime="<%= post.publishDate %>">
                  <%= new Date(post.publishDate).toLocaleDateString('en-GB', {
                  year: 'numeric', month: 'long', day: 'numeric' }) %>
                </time>
              </div>

              <!-- Title -->
              <h2
                class="text-xl font-bold text-gray-800 mb-3 font-['Playfair_Display'] group-hover:text-primary transition-colors duration-300 line-clamp-2"
              >
                <a href="/blog/<%= post.slug %>" class="hover:text-primary">
                  <%= post.title %>
                </a>
              </h2>

              <!-- Excerpt -->
              <p class="text-gray-600 mb-4 line-clamp-3"><%= post.excerpt %></p>

              <!-- Meta Info -->
              <div
                class="flex items-center justify-between text-sm text-gray-500 mb-4"
              >
                <span class="flex items-center gap-1">
                  <i class="ri-time-line"></i>
                  <%= post.readTime %>
                </span>
                <span class="flex items-center gap-1">
                  <i class="ri-user-line"></i>
                  <%= post.author %>
                </span>
              </div>

              <!-- Read More Button -->
              <div class="mt-auto">
                <a
                  href="/blog/<%= post.slug %>"
                  class="inline-flex items-center gap-2 text-primary hover:text-pink-600 font-medium transition-colors duration-300"
                >
                  Read Full Article
                  <i
                    class="ri-arrow-right-line group-hover:translate-x-1 transition-transform duration-300"
                  ></i>
                </a>
              </div>
            </div>
          </article>
          <% }) %>
        </div>
      </div>
    </main>
    <br />
    <%- include('../partials/footer') %>

    <style>
      .line-clamp-2 {
        display: -webkit-box;
        -webkit-line-clamp: 2;
        -webkit-box-orient: vertical;
        overflow: hidden;
      }

      .line-clamp-3 {
        display: -webkit-box;
        -webkit-line-clamp: 3;
        -webkit-box-orient: vertical;
        overflow: hidden;
      }

      .material-shadow {
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
      }

      .material-shadow-hover {
        box-shadow: 0 4px 16px rgba(0, 0, 0, 0.15);
      }
    </style>
  </body>
</html>
